{"ast":null,"code":"var _jsxFileName = \"/Users/arushiagarwal/Desktop/CliniFind/src/components/SearchScreen/SearchScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport \"./result.css\";\nimport Button from \"@mui/material/Button\";\nimport { TextField } from \"@mui/material\";\nimport { API_URL } from \"../../consts\";\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SearchScreen = () => {\n  _s();\n\n  const params = useParams();\n  const trialTitle = params.searchTerm || ' ';\n  const [searchTerm, setSearchTerm] = useState(trialTitle);\n  const [trials, setTrials] = useState([]);\n  const [user, setUser] = useState({});\n  const navigate = useNavigate();\n\n  const getProfile = () => {\n    fetch(`${API_URL}/profile`, {\n      method: 'POST',\n      credentials: 'include'\n    }).then(res => res.json()).then(user => {\n      setUser(user);\n    }).catch(e => navigate('/login'));\n  };\n\n  useEffect(getProfile, [navigate]);\n\n  const findTrials = () => fetch(`https://clinicaltrials.gov/api/query/study_fields?expr=${searchTerm}&fields=NCTId%2CBriefSummary%2CBriefTitle%2CCondition&min_rnk=1&max_rnk=&fmt=json`).then(res => res.json()).then(trials => setTrials(trials));\n\n  useEffect(findTrials, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pt-5\",\n    children: [/*#__PURE__*/_jsxDEV(TextField, {\n      fullWidth: true,\n      label: \"Search\",\n      id: \"fullWidth\",\n      style: {\n        backgroundColor: 'white'\n      },\n      onChange: e => setSearchTerm(e.target.value),\n      value: searchTerm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: findTrials,\n      className: \"btn col-1 cf-view-details-box\",\n      variant: \"contained\",\n      style: {\n        backgroundColor: 'white',\n        color: 'black'\n      },\n      children: \"Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), trials && trials.StudyFieldsResponse && /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Number of studies found:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 24\n      }, this), \" \", trials.StudyFieldsResponse.NStudiesFound]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyle: 'none'\n      },\n      children: trials && trials.StudyFieldsResponse && trials.StudyFieldsResponse.StudyFields && trials.StudyFieldsResponse.StudyFields.map(trial => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cf-result-box mt-5 mb-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-10\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"cf-trial-name\",\n                children: [trial.NCTId, \" - \", trial.BriefTitle]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 37\n            }, this), user === \"sponsor\" || user === \"researcher\" || user === \"participant\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-2\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `/details/${trial.NCTId}`,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"btn col-1 cf-view-details-box\",\n                  variant: \"contained\",\n                  style: {\n                    backgroundColor: 'white',\n                    color: 'black'\n                  },\n                  children: \"View Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 41\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-2\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `/details/${trial.NCTId}`,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"btn col-1 cf-view-details-box\",\n                  variant: \"contained\",\n                  style: {\n                    backgroundColor: 'white',\n                    color: 'black'\n                  },\n                  children: \"Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cf-summary-box cf-summary-para\",\n            children: trial.BriefSummary\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 29\n        }, this)\n      }, trial.NCTId, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SearchScreen, \"w/TgdlNBi03R7T96oaW8sTn9qUo=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = SearchScreen;\nexport default SearchScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchScreen\");","map":{"version":3,"sources":["/Users/arushiagarwal/Desktop/CliniFind/src/components/SearchScreen/SearchScreen.js"],"names":["React","useEffect","useState","Button","TextField","API_URL","Link","useParams","useNavigate","SearchScreen","params","trialTitle","searchTerm","setSearchTerm","trials","setTrials","user","setUser","navigate","getProfile","fetch","method","credentials","then","res","json","catch","e","findTrials","backgroundColor","target","value","color","StudyFieldsResponse","NStudiesFound","listStyle","StudyFields","map","trial","NCTId","BriefTitle","BriefSummary"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport \"./result.css\";\nimport Button from \"@mui/material/Button\";\nimport {TextField} from \"@mui/material\";\nimport { API_URL } from \"../../consts\";\nimport {Link, useParams, useNavigate} from \"react-router-dom\";\n\nconst SearchScreen = () => {\n    const params = useParams();\n    const trialTitle = params.searchTerm || ' '\n    const [searchTerm, setSearchTerm] = useState(trialTitle);\n    const [trials, setTrials] = useState([]);\n\n    const [user, setUser] = useState({});\n    const navigate = useNavigate();\n    const getProfile = () => {\n      fetch(`${API_URL}/profile`, {\n        method: 'POST',\n        credentials: 'include'\n      }).then(res => res.json())\n        .then(user => {\n          setUser(user);\n      }).catch(e => navigate('/login'));\n    }\n\n    useEffect(getProfile, [navigate]);\n    \n\n    const findTrials = () =>\n        fetch(`https://clinicaltrials.gov/api/query/study_fields?expr=${searchTerm}&fields=NCTId%2CBriefSummary%2CBriefTitle%2CCondition&min_rnk=1&max_rnk=&fmt=json`)\n            .then(res => res.json())\n            .then(trials => setTrials(trials))\n    useEffect(findTrials, []);\n    return (\n        <div className=\"pt-5\" >\n            <TextField fullWidth label=\"Search\" id=\"fullWidth\" style ={{backgroundColor:'white'}}  onChange={(e) =>\n                setSearchTerm(e.target.value)} value={searchTerm}/>\n            <Button onClick={findTrials} className=\"btn col-1 cf-view-details-box\" variant=\"contained\" style ={{backgroundColor:'white', color:'black'}} >\n                Search\n            </Button>\n\n            <br/>\n            <br/>\n            {\n                trials && trials.StudyFieldsResponse &&\n                <span> <b>Number of studies found:</b> {trials.StudyFieldsResponse.NStudiesFound}</span>\n            }\n\n            <br/>\n            \n            <ul style ={{listStyle:'none'}}>{\n                trials && trials.StudyFieldsResponse  && trials.StudyFieldsResponse.StudyFields && trials.StudyFieldsResponse.StudyFields.map((trial) =>\n                    <li key={trial.NCTId}>\n\n                            <div className=\"cf-result-box mt-5 mb-5\">\n                                <div className=\"row\">\n                                    <div className=\"col-10\">\n                                        <h4 className=\"cf-trial-name\">\n                                            {trial.NCTId} - {trial.BriefTitle}\n                                        </h4>\n                                    </div>\n                                    {user === \"sponsor\" || user === \"researcher\" || user === \"participant\" ?\n                                        <div className=\"col-2\">\n                                            <Link to={`/details/${trial.NCTId}`}>\n                                                <Button className=\"btn col-1 cf-view-details-box\" variant=\"contained\"  style ={{backgroundColor:'white', color:'black'}}>\n                                                        View Details\n                                                </Button>\n                                            </Link>\n                                        </div>\n                                    :\n                                        <div className=\"col-2\">\n                                            <Link to={`/details/${trial.NCTId}`}>\n                                                <Button className=\"btn col-1 cf-view-details-box\" variant=\"contained\"  style ={{backgroundColor:'white', color:'black'}}>\n                                                        Details\n                                                </Button>\n                                            </Link>\n                                        </div>\n                                    }\n                                </div>\n                                <div className=\"cf-summary-box cf-summary-para\">\n                                    {trial.BriefSummary}\n                                </div>\n                            </div>\n\n                    </li>\n                )\n            }\n            </ul>\n            {/*<ul>*/}\n            {/*    {trials.map(result =>*/}\n            {/*        <li key = {result.imdbID}>*/}\n            {/*            <Link to={`/details/${result.imdbID}`}>*/}\n            {/*                <img src = {result.Poster} height = {50}/>*/}\n            {/*                {result.Title}*/}\n            {/*            </Link>*/}\n            {/*        </li>*/}\n            {/*    )}*/}\n            {/*</ul>*/}\n        </div>\n    )\n}\n\nexport default SearchScreen;"]},"metadata":{},"sourceType":"module"}